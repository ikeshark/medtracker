import{S as t,i as e,s,e as a,t as l,a as o,b as r,f as c,g as n,d as i,c as d,h,j as f,k as u,l as p,n as g,p as b,r as m,u as y,v,w as x,x as E,y as T,q as w,m as N,o as k,z as A,A as S,B as I,C as B}from"./client.7edc24b7.js";import{M as D}from"./Modal.912387e5.js";function $(t,e,s){const a=t.slice();return a[20]=e[s],a}function H(t,e,s){const a=t.slice();return a[6]=e[s],a}function L(t){let e,s,o,d;return{c(){e=a("button"),s=l("Show History"),this.h()},l(t){e=r(t,"BUTTON",{class:!0});var a=c(e);s=n(a,"Show History"),a.forEach(i),this.h()},h(){h(e,"class","mt-4 block mx-auto rounded-md border-black border py-2 px-4 text-white bg-yellow-700")},m(a,l){f(a,e,l),u(e,s),o||(d=k(e,"click",t[10]),o=!0)},p:g,d(t){t&&i(e),o=!1,d()}}}function O(t){let e,s,p,g,m,y,v,x,E,T,w,N,k,A,S=t[12](),I=[];for(let e=0;e<S.length;e+=1)I[e]=M(H(t,S,e));return{c(){e=a("h2"),s=l("Food History"),p=o(),g=a("table"),m=a("tr"),y=a("th"),v=l("Date"),x=o(),E=a("th"),T=l("Name"),w=o(),N=a("th"),k=l("Amount"),A=o();for(let t=0;t<I.length;t+=1)I[t].c();this.h()},l(t){e=r(t,"H2",{class:!0});var a=c(e);s=n(a,"Food History"),a.forEach(i),p=d(t),g=r(t,"TABLE",{});var l=c(g);m=r(l,"TR",{class:!0});var o=c(m);y=r(o,"TH",{class:!0});var h=c(y);v=n(h,"Date"),h.forEach(i),x=d(o),E=r(o,"TH",{class:!0});var f=c(E);T=n(f,"Name"),f.forEach(i),w=d(o),N=r(o,"TH",{class:!0});var u=c(N);k=n(u,"Amount"),u.forEach(i),o.forEach(i),A=d(l);for(let t=0;t<I.length;t+=1)I[t].l(l);l.forEach(i),this.h()},h(){h(e,"class","text-yellow-300 bold text-2xl md:text-3xl text-center"),h(y,"class","svelte-18pgy4f"),h(E,"class","svelte-18pgy4f"),h(N,"class","svelte-18pgy4f"),h(m,"class","svelte-18pgy4f")},m(t,a){f(t,e,a),u(e,s),f(t,p,a),f(t,g,a),u(g,m),u(m,y),u(y,v),u(m,x),u(m,E),u(E,T),u(m,w),u(m,N),u(N,k),u(g,A);for(let t=0;t<I.length;t+=1)I[t].m(g,null)},p(t,e){if(4096&e){let s;for(S=t[12](),s=0;s<S.length;s+=1){const a=H(t,S,s);I[s]?I[s].p(a,e):(I[s]=M(a),I[s].c(),I[s].m(g,null))}for(;s<I.length;s+=1)I[s].d(1);I.length=S.length}},d(t){t&&i(e),t&&i(p),t&&i(g),b(I,t)}}}function U(t){let e,s,p=(b=t[20].time,new Date(parseInt(b)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})+"");var b;let m,y,v,x,E,T,w,N,k=t[20].name+"",A=(t[20].quantity||"")+"";return{c(){e=a("tr"),s=a("td"),m=l(p),y=o(),v=a("td"),x=l(k),E=o(),T=a("td"),w=l(A),N=o(),this.h()},l(t){e=r(t,"TR",{class:!0});var a=c(e);s=r(a,"TD",{class:!0});var l=c(s);m=n(l,p),l.forEach(i),y=d(a),v=r(a,"TD",{class:!0});var o=c(v);x=n(o,k),o.forEach(i),E=d(a),T=r(a,"TD",{class:!0});var h=c(T);w=n(h,A),h.forEach(i),N=d(a),a.forEach(i),this.h()},h(){h(s,"class","text-sm svelte-18pgy4f"),h(v,"class","svelte-18pgy4f"),h(T,"class","svelte-18pgy4f"),h(e,"class","svelte-18pgy4f")},m(t,a){f(t,e,a),u(e,s),u(s,m),u(e,y),u(e,v),u(v,x),u(e,E),u(e,T),u(T,w),u(e,N)},p:g,d(t){t&&i(e)}}}function M(t){let e,s,g,m,y,v=t[6][0]+"",x=t[6][1],E=[];for(let e=0;e<x.length;e+=1)E[e]=U($(t,x,e));return{c(){e=a("tr"),s=a("th"),g=l(v),m=o();for(let t=0;t<E.length;t+=1)E[t].c();y=p(),this.h()},l(t){e=r(t,"TR",{class:!0});var a=c(e);s=r(a,"TH",{class:!0,colspan:!0});var l=c(s);g=n(l,v),l.forEach(i),a.forEach(i),m=d(t);for(let e=0;e<E.length;e+=1)E[e].l(t);y=p(),this.h()},h(){h(s,"class","text-left svelte-18pgy4f"),h(s,"colspan","3"),h(e,"class","svelte-18pgy4f")},m(t,a){f(t,e,a),u(e,s),u(s,g),f(t,m,a);for(let e=0;e<E.length;e+=1)E[e].m(t,a);f(t,y,a)},p(t,e){if(4096&e){let s;for(x=t[6][1],s=0;s<x.length;s+=1){const a=$(t,x,s);E[s]?E[s].p(a,e):(E[s]=U(a),E[s].c(),E[s].m(y.parentNode,y))}for(;s<E.length;s+=1)E[s].d(1);E.length=x.length}},d(t){t&&i(e),t&&i(m),b(E,t),t&&i(y)}}}function F(t){let e,s;return e=new D({props:{$$slots:{default:[j]},$$scope:{ctx:t}}}),e.$on("closeModal",t[8]),{c(){m(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,a){v(e,t,a),s=!0},p(t,s){const a={};8388620&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){s||(x(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function j(t){let e,s,p,g,b,m,y,v,x,E,T,w,A,S,B,D;return{c(){e=a("div"),s=a("label"),p=l("DATE\n\t\t\t\t"),g=a("input"),b=o(),m=a("label"),y=l("TIME\n\t\t\t\t"),v=a("input"),x=o(),E=a("button"),T=l("SUBMIT"),w=o(),A=a("button"),S=l("ABORT"),this.h()},l(t){e=r(t,"DIV",{class:!0});var a=c(e);s=r(a,"LABEL",{class:!0});var l=c(s);p=n(l,"DATE\n\t\t\t\t"),g=r(l,"INPUT",{class:!0,type:!0}),l.forEach(i),b=d(a),m=r(a,"LABEL",{class:!0});var o=c(m);y=n(o,"TIME\n\t\t\t\t"),v=r(o,"INPUT",{class:!0,type:!0}),o.forEach(i),x=d(a),E=r(a,"BUTTON",{class:!0});var h=c(E);T=n(h,"SUBMIT"),h.forEach(i),w=d(a),A=r(a,"BUTTON",{class:!0});var f=c(A);S=n(f,"ABORT"),f.forEach(i),a.forEach(i),this.h()},h(){h(g,"class","block bg-gray-900 pl-1"),h(g,"type","date"),h(s,"class","block p-1 mb-1"),h(v,"class","block bg-gray-900 pl-1"),h(v,"type","time"),h(m,"class","block p-1 mb-1"),h(E,"class","block w-full mb-2 p-2 border-double border-8 border-green-700 rounded-lg font-bold text-xl"),h(A,"class","block w-full mb-2 p-2 border-double border-8 border-red-700 rounded-lg font-bold text-xl"),h(e,"class","w-10/12 shadow-lg p-4 bg-gray-800")},m(a,l){f(a,e,l),u(e,s),u(s,p),u(s,g),N(g,t[2]),u(e,b),u(e,m),u(m,y),u(m,v),N(v,t[3]),u(e,x),u(e,E),u(E,T),u(e,w),u(e,A),u(A,S),B||(D=[k(g,"input",t[15]),k(v,"input",t[16]),k(E,"click",t[9]),k(A,"click",t[8])],B=!0)},p(t,e){4&e&&N(g,t[2]),8&e&&N(v,t[3])},d(t){t&&i(e),B=!1,I(D)}}}function R(t){let e,s,g,b,m,y,v,T,D,$,H,U,M,j,R,P,q,J,Q,V,z,C,G,K,W,X,Y,Z,_,tt,et,st,at=Object.values(t[5]).length,lt=at&&L(t),ot=t[0]&&O(t),rt=t[1]&&F(t);return{c(){e=o(),s=a("h1"),g=l("Food / Drug "),b=a("br"),m=l("Log"),y=o(),v=a("form"),T=a("label"),D=a("span"),$=l("Food name"),H=o(),U=a("input"),M=o(),j=a("label"),R=a("span"),P=l("Quantity"),q=o(),J=a("input"),Q=o(),V=a("div"),z=a("button"),C=l("Add"),G=o(),K=a("button"),W=l("Manual Add"),X=o(),lt&&lt.c(),Y=o(),ot&&ot.c(),Z=o(),rt&&rt.c(),_=p(),this.h()},l(t){w('[data-svelte="svelte-1po7aon"]',document.head).forEach(i),e=d(t),s=r(t,"H1",{class:!0});var a=c(s);g=n(a,"Food / Drug "),b=r(a,"BR",{}),m=n(a,"Log"),a.forEach(i),y=d(t),v=r(t,"FORM",{class:!0});var l=c(v);T=r(l,"LABEL",{class:!0});var o=c(T);D=r(o,"SPAN",{class:!0});var h=c(D);$=n(h,"Food name"),h.forEach(i),H=d(o),U=r(o,"INPUT",{class:!0}),o.forEach(i),M=d(l),j=r(l,"LABEL",{class:!0});var f=c(j);R=r(f,"SPAN",{class:!0});var u=c(R);P=n(u,"Quantity"),u.forEach(i),q=d(f),J=r(f,"INPUT",{class:!0}),f.forEach(i),Q=d(l),V=r(l,"DIV",{class:!0});var x=c(V);z=r(x,"BUTTON",{class:!0});var E=c(z);C=n(E,"Add"),E.forEach(i),G=d(x),K=r(x,"BUTTON",{type:!0,class:!0});var N=c(K);W=n(N,"Manual Add"),N.forEach(i),x.forEach(i),l.forEach(i),X=d(t),lt&&lt.l(t),Y=d(t),ot&&ot.l(t),Z=d(t),rt&&rt.l(t),_=p(),this.h()},h(){document.title="Food Log",h(s,"class","mb-4 text-yellow-400 bold text-3xl md:text-4xl text-center leading-tight"),h(D,"class","text-xl"),h(U,"class","shadow-sm bg-gray-900 border-2 rounded border-yellow-300"),h(T,"class","space-y-1 block text-center"),h(R,"class","text-xl"),h(J,"class","w-10 ml-2 px-1 shadow-sm bg-gray-900 border-2 rounded border-yellow-300"),h(j,"class","space-y-1 block text-center"),h(z,"class","rounded-md block border-black border py-2 px-4 text-white bg-gray-700"),h(K,"type","button"),h(K,"class","rounded-md block border-black border py-2 px-4 text-white bg-gray-700"),h(V,"class","pt-1 flex justify-evenly"),h(v,"class","space-y-2 border border-gray-700 py-2")},m(a,l){f(a,e,l),f(a,s,l),u(s,g),u(s,b),u(s,m),f(a,y,l),f(a,v,l),u(v,T),u(T,D),u(D,$),u(T,H),u(T,U),N(U,t[6]),u(v,M),u(v,j),u(j,R),u(R,P),u(j,q),u(j,J),N(J,t[4]),u(v,Q),u(v,V),u(V,z),u(z,C),u(V,G),u(V,K),u(K,W),f(a,X,l),lt&&lt.m(a,l),f(a,Y,l),ot&&ot.m(a,l),f(a,Z,l),rt&&rt.m(a,l),f(a,_,l),tt=!0,et||(st=[k(U,"input",t[13]),k(J,"input",t[14]),k(K,"click",t[7]),k(v,"submit",A(t[11]))],et=!0)},p(t,[e]){64&e&&U.value!==t[6]&&N(U,t[6]),16&e&&J.value!==t[4]&&N(J,t[4]),32&e&&(at=Object.values(t[5]).length),at?lt?lt.p(t,e):(lt=L(t),lt.c(),lt.m(Y.parentNode,Y)):lt&&(lt.d(1),lt=null),t[0]?ot?ot.p(t,e):(ot=O(t),ot.c(),ot.m(Z.parentNode,Z)):ot&&(ot.d(1),ot=null),t[1]?rt?(rt.p(t,e),2&e&&x(rt,1)):(rt=F(t),rt.c(),x(rt,1),rt.m(_.parentNode,_)):rt&&(B(),E(rt,1,1,(()=>{rt=null})),S())},i(t){tt||(x(rt),tt=!0)},o(t){E(rt),tt=!1},d(t){t&&i(e),t&&i(s),t&&i(y),t&&i(v),t&&i(X),lt&&lt.d(t),t&&i(Y),ot&&ot.d(t),t&&i(Z),rt&&rt.d(t),t&&i(_),et=!1,I(st)}}}function P(t,e,s){let a,l,o,r,c,n=!1,i=[];return i=localStorage.foodHistory?JSON.parse(localStorage.foodHistory):[],[n,a,l,o,c,i,r,function(){s(1,a=!0)},function(){s(1,a=!1)},function(){const t=parseInt(l),e=parseInt(l.slice(5,7))-1,n=parseInt(l.slice(8,11)),d=parseInt(o),h=parseInt(o.slice(3,5)),f=new Date(t,e,n,d,h).getTime();i.push({time:f,name:r,quantity:c}),localStorage.foodHistory=JSON.stringify(i),s(6,r=""),s(4,c=""),s(1,a=!1)},function(){s(0,n=!n)},function(){i.push({time:(new Date).getTime(),name:r,quantity:c}),localStorage.foodHistory=JSON.stringify(i),s(6,r=""),s(4,c="")},function(){let t={};return i.forEach((e=>{const s=(a=e.time,new Date(parseInt(a)).toLocaleDateString("en-US"));var a;t[s]?t[s].push(e):t[s]=[e]})),Object.entries(t).reverse()},function(){r=this.value,s(6,r)},function(){c=this.value,s(4,c)},function(){l=this.value,s(2,l)},function(){o=this.value,s(3,o)}]}export default class extends t{constructor(t){super(),e(this,t,P,R,s,{})}}
