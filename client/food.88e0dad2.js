import{S as t,i as e,s,r as a,u as l,v as o,w as r,x as c,y as n,F as i,e as d,t as h,a as u,b as f,f as m,g as p,d as g,c as b,h as v,j as y,k as x,o as E,l as $,B as T,m as w,n as N,p as k,q as A,z as D,A as S,C as I}from"./client.a4279987.js";import{M as B}from"./Modal.224dcc15.js";function H(t){let e,s,a,l,o,r,c,n,i,w,N,k,A,D,S,I;return{c(){e=d("div"),s=d("label"),a=h("DATE\n      "),l=d("input"),o=u(),r=d("label"),c=h("TIME\n      "),n=d("input"),i=u(),w=d("button"),N=h("Submit Time"),k=u(),A=d("button"),D=h("ABORT"),this.h()},l(t){e=f(t,"DIV",{class:!0});var d=m(e);s=f(d,"LABEL",{class:!0});var h=m(s);a=p(h,"DATE\n      "),l=f(h,"INPUT",{class:!0,max:!0,min:!0,type:!0}),h.forEach(g),o=b(d),r=f(d,"LABEL",{class:!0});var u=m(r);c=p(u,"TIME\n      "),n=f(u,"INPUT",{class:!0,max:!0,min:!0,type:!0}),u.forEach(g),i=b(d),w=f(d,"BUTTON",{class:!0});var v=m(w);N=p(v,"Submit Time"),v.forEach(g),k=b(d),A=f(d,"BUTTON",{class:!0});var y=m(A);D=p(y,"ABORT"),y.forEach(g),d.forEach(g),this.h()},h(){v(l,"class","block bg-gray-900 pl-1"),v(l,"max",t[1]),v(l,"min",t[0]),v(l,"type","date"),v(s,"class","block p-1 mb-1"),v(n,"class","block bg-gray-900 pl-1"),v(n,"max",t[3]),v(n,"min",t[2]),v(n,"type","time"),v(r,"class","block p-1 mb-1"),v(w,"class","block w-full mb-4 p-4 border-double border-8 border-green-700 rounded-lg font-bold text-xl"),v(A,"class","block w-full mb-4 p-4 border-double border-8 border-red-700 rounded-lg font-bold text-xl"),v(e,"class","w-10/12 max-666 bg-gray-800 p-4 border-double border-black border-8")},m(d,h){y(d,e,h),x(e,s),x(s,a),x(s,l),E(l,t[4]),x(e,o),x(e,r),x(r,c),x(r,n),E(n,t[5]),x(e,i),x(e,w),x(w,N),x(e,k),x(e,A),x(A,D),S||(I=[$(l,"input",t[10]),$(n,"input",t[11]),$(w,"click",t[6]),$(A,"click",t[7])],S=!0)},p(t,e){2&e&&v(l,"max",t[1]),1&e&&v(l,"min",t[0]),16&e&&E(l,t[4]),8&e&&v(n,"max",t[3]),4&e&&v(n,"min",t[2]),32&e&&E(n,t[5])},d(t){t&&g(e),S=!1,T(I)}}}function L(t){let e,s;return e=new B({props:{$$slots:{default:[H]},$$scope:{ctx:t}}}),e.$on("closeModal",t[7]),{c(){a(e.$$.fragment)},l(t){l(e.$$.fragment,t)},m(t,a){o(e,t,a),s=!0},p(t,[s]){const a={};16447&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){s||(r(e.$$.fragment,t),s=!0)},o(t){c(e.$$.fragment,t),s=!1},d(t){n(e,t)}}}function O(t){const e=new Date(t),s=e.getFullYear()+"";let a=e.getMonth()+"",l=e.getDate()+"";1===a.length&&(a="0"+a),1===a.length&&(l="0"+l);const o=`${s}-${a}-${o}`;let r=e.getHours()+"",c=e.getMinutes()+"";1===a.length&&(r="0"+r),1===a.length&&(c="0"+c);return{date:o,time:`${r}:${c}`}}function U(t,e,s){const a=i();let l,o,r,c,n,d,{minEpoch:h}=e,{maxEpoch:u}=e;if(h){const t=O(h);l=t.date,r=t.time}if(u){const t=O(u);o=t.date,c=t.time}return t.$$set=t=>{"minEpoch"in t&&s(8,h=t.minEpoch),"maxEpoch"in t&&s(9,u=t.maxEpoch)},[l,o,r,c,n,d,function(){const t=parseInt(n),e=parseInt(n.slice(5,7))-1,s=parseInt(n.slice(8,11)),l=parseInt(d),o=parseInt(d.slice(3,5)),r=new Date(t,e,s,l,o).getTime();a("confirm",{epoch:r}),a("dismiss")},function(){a("dismiss")},h,u,function(){n=this.value,s(4,n)},function(){d=this.value,s(5,d)}]}class F extends t{constructor(t){super(),e(this,t,U,L,s,{minEpoch:8,maxEpoch:9})}}function M(t,e,s){const a=t.slice();return a[20]=e[s],a}function P(t,e,s){const a=t.slice();return a[5]=e[s],a}function j(t){let e,s,a,l;return{c(){e=d("button"),s=h("Show History"),this.h()},l(t){e=f(t,"BUTTON",{class:!0});var a=m(e);s=p(a,"Show History"),a.forEach(g),this.h()},h(){v(e,"class","mt-4 block mx-auto rounded-md border-black border py-2 px-4 text-white bg-yellow-700")},m(o,r){y(o,e,r),x(e,s),a||(l=$(e,"click",t[8]),a=!0)},p:N,d(t){t&&g(e),a=!1,l()}}}function R(t){let e,s,a,l,o,r,c,n,i,E,$,T,w,N,A=z(),D=[];for(let e=0;e<A.length;e+=1)D[e]=J(P(t,A,e));return{c(){e=d("h2"),s=h("Food History"),a=u(),l=d("table"),o=d("tr"),r=d("th"),c=h("Date"),n=u(),i=d("th"),E=h("Name"),$=u(),T=d("th"),w=h("Amount"),N=u();for(let t=0;t<D.length;t+=1)D[t].c();this.h()},l(t){e=f(t,"H2",{class:!0});var d=m(e);s=p(d,"Food History"),d.forEach(g),a=b(t),l=f(t,"TABLE",{});var h=m(l);o=f(h,"TR",{class:!0});var u=m(o);r=f(u,"TH",{class:!0});var v=m(r);c=p(v,"Date"),v.forEach(g),n=b(u),i=f(u,"TH",{class:!0});var y=m(i);E=p(y,"Name"),y.forEach(g),$=b(u),T=f(u,"TH",{class:!0});var x=m(T);w=p(x,"Amount"),x.forEach(g),u.forEach(g),N=b(h);for(let t=0;t<D.length;t+=1)D[t].l(h);h.forEach(g),this.h()},h(){v(e,"class","text-yellow-300 bold text-2xl md:text-3xl text-center"),v(r,"class","svelte-18pgy4f"),v(i,"class","svelte-18pgy4f"),v(T,"class","svelte-18pgy4f"),v(o,"class","svelte-18pgy4f")},m(t,d){y(t,e,d),x(e,s),y(t,a,d),y(t,l,d),x(l,o),x(o,r),x(r,c),x(o,n),x(o,i),x(i,E),x(o,$),x(o,T),x(T,w),x(l,N);for(let t=0;t<D.length;t+=1)D[t].m(l,null)},p(t,e){if(0&e){let s;for(A=z(),s=0;s<A.length;s+=1){const a=P(t,A,s);D[s]?D[s].p(a,e):(D[s]=J(a),D[s].c(),D[s].m(l,null))}for(;s<D.length;s+=1)D[s].d(1);D.length=A.length}},d(t){t&&g(e),t&&g(a),t&&g(l),k(D,t)}}}function q(t){let e,s,a=(l=t[20].time,new Date(parseInt(l)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})+"");var l;let o,r,c,n,i,E,$,T,w=t[20].name+"",k=(t[20].quantity||"")+"";return{c(){e=d("tr"),s=d("td"),o=h(a),r=u(),c=d("td"),n=h(w),i=u(),E=d("td"),$=h(k),T=u(),this.h()},l(t){e=f(t,"TR",{class:!0});var l=m(e);s=f(l,"TD",{class:!0});var d=m(s);o=p(d,a),d.forEach(g),r=b(l),c=f(l,"TD",{class:!0});var h=m(c);n=p(h,w),h.forEach(g),i=b(l),E=f(l,"TD",{class:!0});var u=m(E);$=p(u,k),u.forEach(g),T=b(l),l.forEach(g),this.h()},h(){v(s,"class","text-sm svelte-18pgy4f"),v(c,"class","svelte-18pgy4f"),v(E,"class","svelte-18pgy4f"),v(e,"class","svelte-18pgy4f")},m(t,a){y(t,e,a),x(e,s),x(s,o),x(e,r),x(e,c),x(c,n),x(e,i),x(e,E),x(E,$),x(e,T)},p:N,d(t){t&&g(e)}}}function J(t){let e,s,a,l,o,r=t[5][0]+"",c=t[5][1],n=[];for(let e=0;e<c.length;e+=1)n[e]=q(M(t,c,e));return{c(){e=d("tr"),s=d("th"),a=h(r),l=u();for(let t=0;t<n.length;t+=1)n[t].c();o=w(),this.h()},l(t){e=f(t,"TR",{class:!0});var c=m(e);s=f(c,"TH",{class:!0,colspan:!0});var i=m(s);a=p(i,r),i.forEach(g),c.forEach(g),l=b(t);for(let e=0;e<n.length;e+=1)n[e].l(t);o=w(),this.h()},h(){v(s,"class","text-left svelte-18pgy4f"),v(s,"colspan","3"),v(e,"class","svelte-18pgy4f")},m(t,r){y(t,e,r),x(e,s),x(s,a),y(t,l,r);for(let e=0;e<n.length;e+=1)n[e].m(t,r);y(t,o,r)},p(t,e){if(0&e){let s;for(c=t[5][1],s=0;s<c.length;s+=1){const a=M(t,c,s);n[s]?n[s].p(a,e):(n[s]=q(a),n[s].c(),n[s].m(o.parentNode,o))}for(;s<n.length;s+=1)n[s].d(1);n.length=c.length}},d(t){t&&g(e),t&&g(l),k(n,t),t&&g(o)}}}function Q(t){let e,s;return e=new F({props:{maxEpoch:t[2]}}),e.$on("dismiss",t[12]),e.$on("confirm",t[6]),{c(){a(e.$$.fragment)},l(t){l(e.$$.fragment,t)},m(t,a){o(e,t,a),s=!0},p(t,s){const a={};4&s&&(a.maxEpoch=t[2]),e.$set(a)},i(t){s||(r(e.$$.fragment,t),s=!0)},o(t){c(e.$$.fragment,t),s=!1},d(t){n(e,t)}}}function V(t){let e,s,a,l,o,n,i,N,k,B,H,L,O,U,F,M,P,q,J,V,z,C,Y,G,K,W,X,Z,_,tt,et,st,at=Object.values(t[4]).length,lt=at&&j(t),ot=t[0]&&R(t),rt=t[1]&&Q(t);return{c(){e=u(),s=d("h1"),a=h("Food / Drug "),l=d("br"),o=h("Log"),n=u(),i=d("form"),N=d("label"),k=d("span"),B=h("Food name"),H=u(),L=d("input"),O=u(),U=d("label"),F=d("span"),M=h("Quantity"),P=u(),q=d("input"),J=u(),V=d("div"),z=d("button"),C=h("Add Now"),Y=u(),G=d("button"),K=h("Add Past"),W=u(),lt&&lt.c(),X=u(),ot&&ot.c(),Z=u(),rt&&rt.c(),_=w(),this.h()},l(t){A('[data-svelte="svelte-1po7aon"]',document.head).forEach(g),e=b(t),s=f(t,"H1",{class:!0});var r=m(s);a=p(r,"Food / Drug "),l=f(r,"BR",{}),o=p(r,"Log"),r.forEach(g),n=b(t),i=f(t,"FORM",{class:!0});var c=m(i);N=f(c,"LABEL",{class:!0});var d=m(N);k=f(d,"SPAN",{class:!0});var h=m(k);B=p(h,"Food name"),h.forEach(g),H=b(d),L=f(d,"INPUT",{class:!0}),d.forEach(g),O=b(c),U=f(c,"LABEL",{class:!0});var u=m(U);F=f(u,"SPAN",{class:!0});var v=m(F);M=p(v,"Quantity"),v.forEach(g),P=b(u),q=f(u,"INPUT",{class:!0}),u.forEach(g),J=b(c),V=f(c,"DIV",{class:!0});var y=m(V);z=f(y,"BUTTON",{class:!0});var x=m(z);C=p(x,"Add Now"),x.forEach(g),Y=b(y),G=f(y,"BUTTON",{type:!0,class:!0});var E=m(G);K=p(E,"Add Past"),E.forEach(g),y.forEach(g),c.forEach(g),W=b(t),lt&&lt.l(t),X=b(t),ot&&ot.l(t),Z=b(t),rt&&rt.l(t),_=w(),this.h()},h(){document.title="Food Log",v(s,"class","mb-4 text-yellow-400 bold text-3xl md:text-4xl text-center leading-tight"),v(k,"class","text-xl"),v(L,"class","shadow-sm bg-gray-900 border-2 rounded border-yellow-300"),v(N,"class","space-y-1 block text-center"),v(F,"class","text-xl"),v(q,"class","w-10 ml-2 px-1 shadow-sm bg-gray-900 border-2 rounded border-yellow-300"),v(U,"class","space-y-1 block text-center"),v(z,"class","rounded-md block border-black border py-2 px-4 text-white bg-gray-700"),v(G,"type","button"),v(G,"class","rounded-md block border-black border py-2 px-4 text-white bg-gray-700"),v(V,"class","pt-1 flex justify-evenly"),v(i,"class","space-y-2 border border-gray-700 py-2")},m(r,c){y(r,e,c),y(r,s,c),x(s,a),x(s,l),x(s,o),y(r,n,c),y(r,i,c),x(i,N),x(N,k),x(k,B),x(N,H),x(N,L),E(L,t[5]),x(i,O),x(i,U),x(U,F),x(F,M),x(U,P),x(U,q),E(q,t[3]),x(i,J),x(i,V),x(V,z),x(z,C),x(V,Y),x(V,G),x(G,K),y(r,W,c),lt&&lt.m(r,c),y(r,X,c),ot&&ot.m(r,c),y(r,Z,c),rt&&rt.m(r,c),y(r,_,c),tt=!0,et||(st=[$(L,"input",t[9]),$(q,"input",t[10]),$(G,"click",t[11]),$(i,"submit",D(t[7]))],et=!0)},p(t,[e]){32&e&&L.value!==t[5]&&E(L,t[5]),8&e&&q.value!==t[3]&&E(q,t[3]),16&e&&(at=Object.values(t[4]).length),at?lt?lt.p(t,e):(lt=j(t),lt.c(),lt.m(X.parentNode,X)):lt&&(lt.d(1),lt=null),t[0]?ot?ot.p(t,e):(ot=R(t),ot.c(),ot.m(Z.parentNode,Z)):ot&&(ot.d(1),ot=null),t[1]?rt?(rt.p(t,e),2&e&&r(rt,1)):(rt=Q(t),rt.c(),r(rt,1),rt.m(_.parentNode,_)):rt&&(I(),c(rt,1,1,(()=>{rt=null})),S())},i(t){tt||(r(rt),tt=!0)},o(t){c(rt),tt=!1},d(t){t&&g(e),t&&g(s),t&&g(n),t&&g(i),t&&g(W),lt&&lt.d(t),t&&g(X),ot&&ot.d(t),t&&g(Z),rt&&rt.d(t),t&&g(_),et=!1,T(st)}}}function z(t){let e={};return t.forEach((t=>{const s=(a=t.time,new Date(parseInt(a)).toLocaleDateString("en-US"));var a;e[s]?e[s].push(t):e[s]=[t]})),Object.entries(e).reverse()}function C(t,e,s){let a,l,o,r=!1,c=!1,n=[];function i(){n.push({time:a,name:l,quantity:o}),localStorage.foodHistory=JSON.stringify(n),s(5,l=""),s(3,o="")}n=localStorage.foodHistory?JSON.parse(localStorage.foodHistory):[];let d;return t.$$.update=()=>{16&t.$$.dirty&&(d=z(n))},[r,c,undefined,o,n,l,function(t){s(1,c=!1),a=t.detail.epoch,i()},function(){a=(new Date).getTime(),i()},function(){s(0,r=!r)},function(){l=this.value,s(5,l)},function(){o=this.value,s(3,o)},()=>s(1,c=!0),()=>s(1,c=!1)]}export default class extends t{constructor(t){super(),e(this,t,C,V,s,{})}}
