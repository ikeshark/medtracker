import{S as t,i as e,s as a,e as l,t as c,a as r,m as s,b as o,f as n,g as i,d as u,c as d,h,j as p,k as f,o as b,l as m,n as v,p as g,r as y,u as x,v as T,w as E,x as k,y as w,q as N,z as A,A as S,B as I,C as L}from"./client.75603193.js";import{f as B}from"./firebase.eefa67c6.js";import{M as O}from"./Modal.3ddbf192.js";function $(t,e,a){const l=t.slice();return l[32]=e[a],l}function _(t,e,a){const l=t.slice();return l[29]=e[a],l}function U(t){let e,a,v,g,y,x,T;function E(t,e){return t[3]?t[3]?D:void 0:H}let k=E(t),w=k&&k(t);return{c(){e=l("label"),a=c("Quantity\n\t\t\t"),v=l("input"),g=r(),w&&w.c(),y=s(),this.h()},l(t){e=o(t,"LABEL",{class:!0});var l=n(e);a=i(l,"Quantity\n\t\t\t"),v=o(l,"INPUT",{class:!0,type:!0}),l.forEach(u),g=d(t),w&&w.l(t),y=s(),this.h()},h(){h(v,"class","block mx-auto shadow-sm bg-gray-900 border-2 rounded border-yellow-300"),h(v,"type","text"),h(e,"class","space-y-1 block text-center")},m(l,c){p(l,e,c),f(e,a),f(e,v),b(v,t[2]),p(l,g,c),w&&w.m(l,c),p(l,y,c),x||(T=m(v,"input",t[22]),x=!0)},p(t,e){4&e[0]&&v.value!==t[2]&&b(v,t[2]),k===(k=E(t))&&w?w.p(t,e):(w&&w.d(1),w=k&&k(t),w&&(w.c(),w.m(y.parentNode,y)))},d(t){t&&u(e),t&&u(g),w&&w.d(t),t&&u(y),x=!1,T()}}}function D(t){let e,a,s,b,g,y,x,T;return{c(){e=l("div"),a=l("button"),s=c("End"),b=r(),g=l("button"),y=c("Cancel Exercise"),this.h()},l(t){e=o(t,"DIV",{class:!0});var l=n(e);a=o(l,"BUTTON",{class:!0});var c=n(a);s=i(c,"End"),c.forEach(u),b=d(l),g=o(l,"BUTTON",{class:!0});var r=n(g);y=i(r,"Cancel Exercise"),r.forEach(u),l.forEach(u),this.h()},h(){h(a,"class","rounded-md mb-4 block mx-auto border-black border py-2 px-4 text-white bg-red-700"),h(g,"class","rounded-md mb-4 block mx-auto border-black border py-2 px-4 text-white bg-gray-700"),h(e,"class","flex")},m(l,c){p(l,e,c),f(e,a),f(a,s),f(e,b),f(e,g),f(g,y),x||(T=[m(a,"click",t[11]),m(g,"click",t[12])],x=!0)},p:v,d(t){t&&u(e),x=!1,I(T)}}}function H(t){let e,a,s,b,g,y,x,T;return{c(){e=l("div"),a=l("button"),s=c("Start"),b=r(),g=l("button"),y=c("Manual Add"),this.h()},l(t){e=o(t,"DIV",{class:!0});var l=n(e);a=o(l,"BUTTON",{class:!0});var c=n(a);s=i(c,"Start"),c.forEach(u),b=d(l),g=o(l,"BUTTON",{class:!0});var r=n(g);y=i(r,"Manual Add"),r.forEach(u),l.forEach(u),this.h()},h(){h(a,"class","block mb-4 mx-auto rounded-md border-black border py-2 px-4 text-white bg-green-700"),h(g,"class","rounded-md mb-4 block mx-auto border-black border py-2 px-4 text-white bg-gray-700"),h(e,"class","flex")},m(l,c){p(l,e,c),f(e,a),f(a,s),f(e,b),f(e,g),f(g,y),x||(T=[m(a,"click",t[10]),m(g,"click",t[13])],x=!0)},p:v,d(t){t&&u(e),x=!1,I(T)}}}function M(t){let e,a,r,s;return{c(){e=l("button"),a=c("Show History"),this.h()},l(t){e=o(t,"BUTTON",{class:!0});var l=n(e);a=i(l,"Show History"),l.forEach(u),this.h()},h(){h(e,"class","mt-2 block mx-auto rounded-md border-black border py-2 px-4 text-white bg-blue-700")},m(l,c){p(l,e,c),f(e,a),r||(s=m(e,"click",t[16]),r=!0)},p:v,d(t){t&&u(e),r=!1,s()}}}function j(t){let e,a,s,b,m,v,y,x,T,E,k,w,N,A,S=V(),I=[];for(let e=0;e<S.length;e+=1)I[e]=R(_(t,S,e));return{c(){e=l("h2"),a=c("Activity History"),s=r(),b=l("table"),m=l("tr"),v=l("th"),y=c("Date"),x=r(),T=l("th"),E=c("Type"),k=r(),w=l("th"),N=c("Name"),A=r();for(let t=0;t<I.length;t+=1)I[t].c();this.h()},l(t){e=o(t,"H2",{class:!0});var l=n(e);a=i(l,"Activity History"),l.forEach(u),s=d(t),b=o(t,"TABLE",{});var c=n(b);m=o(c,"TR",{});var r=n(m);v=o(r,"TH",{});var h=n(v);y=i(h,"Date"),h.forEach(u),x=d(r),T=o(r,"TH",{});var p=n(T);E=i(p,"Type"),p.forEach(u),k=d(r),w=o(r,"TH",{});var f=n(w);N=i(f,"Name"),f.forEach(u),r.forEach(u),A=d(c);for(let t=0;t<I.length;t+=1)I[t].l(c);c.forEach(u),this.h()},h(){h(e,"class","text-yellow-500 bold text-2xl md:text-3xl text-center")},m(t,l){p(t,e,l),f(e,a),p(t,s,l),p(t,b,l),f(b,m),f(m,v),f(v,y),f(m,x),f(m,T),f(T,E),f(m,k),f(m,w),f(w,N),f(b,A);for(let t=0;t<I.length;t+=1)I[t].m(b,null)},p(t,e){if(0&e){let a;for(S=V(),a=0;a<S.length;a+=1){const l=_(t,S,a);I[a]?I[a].p(l,e):(I[a]=R(l),I[a].c(),I[a].m(b,null))}for(;a<I.length;a+=1)I[a].d(1);I.length=S.length}},d(t){t&&u(e),t&&u(s),t&&u(b),g(I,t)}}}function P(t){let e,a,s=(b=t[32].startTime,new Date(parseInt(b)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})+"");var b;let m,g,y,x,T,E,k,w,N=t[32].type+"",A=t[32].name+"";return{c(){e=l("tr"),a=l("td"),m=c(s),g=r(),y=l("td"),x=c(N),T=r(),E=l("td"),k=c(A),w=r(),this.h()},l(t){e=o(t,"TR",{});var l=n(e);a=o(l,"TD",{class:!0});var c=n(a);m=i(c,s),c.forEach(u),g=d(l),y=o(l,"TD",{});var r=n(y);x=i(r,N),r.forEach(u),T=d(l),E=o(l,"TD",{});var h=n(E);k=i(h,A),h.forEach(u),w=d(l),l.forEach(u),this.h()},h(){h(a,"class","text-sm")},m(t,l){p(t,e,l),f(e,a),f(a,m),f(e,g),f(e,y),f(y,x),f(e,T),f(e,E),f(E,k),f(e,w)},p:v,d(t){t&&u(e)}}}function R(t){let e,a,b,m,v,y=t[29][0]+"",x=t[29][1],T=[];for(let e=0;e<x.length;e+=1)T[e]=P($(t,x,e));return{c(){e=l("tr"),a=l("th"),b=c(y),m=r();for(let t=0;t<T.length;t+=1)T[t].c();v=s(),this.h()},l(t){e=o(t,"TR",{});var l=n(e);a=o(l,"TH",{class:!0,colspan:!0});var c=n(a);b=i(c,y),c.forEach(u),l.forEach(u),m=d(t);for(let e=0;e<T.length;e+=1)T[e].l(t);v=s(),this.h()},h(){h(a,"class","text-left"),h(a,"colspan","3")},m(t,l){p(t,e,l),f(e,a),f(a,b),p(t,m,l);for(let e=0;e<T.length;e+=1)T[e].m(t,l);p(t,v,l)},p(t,e){if(0&e){let a;for(x=t[29][1],a=0;a<x.length;a+=1){const l=$(t,x,a);T[a]?T[a].p(l,e):(T[a]=P(l),T[a].c(),T[a].m(v.parentNode,v))}for(;a<T.length;a+=1)T[a].d(1);T.length=x.length}},d(t){t&&u(e),t&&u(m),g(T,t),t&&u(v)}}}function q(t){let e,a;return e=new O({props:{$$slots:{default:[C]},$$scope:{ctx:t}}}),e.$on("closeModal",t[14]),{c(){y(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,l){T(e,t,l),a=!0},p(t,a){const l={};224&a[0]|16&a[1]&&(l.$$scope={dirty:a,ctx:t}),e.$set(l)},i(t){a||(E(e.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),a=!1},d(t){w(e,t)}}}function C(t){let e,a,s,v,g,y,x,T,E,k,w,N,A,S,L,B,O,$,_,U;return{c(){e=l("div"),a=l("label"),s=c("DATE\n\t\t\t\t"),v=l("input"),g=r(),y=l("label"),x=c("TIME\n\t\t\t\t"),T=l("input"),E=r(),k=l("label"),w=c("LENGTH (minutes)\n\t\t\t\t"),N=l("input"),A=r(),S=l("button"),L=c("SUBMIT"),B=r(),O=l("button"),$=c("ABORT"),this.h()},l(t){e=o(t,"DIV",{class:!0});var l=n(e);a=o(l,"LABEL",{class:!0});var c=n(a);s=i(c,"DATE\n\t\t\t\t"),v=o(c,"INPUT",{class:!0,type:!0}),c.forEach(u),g=d(l),y=o(l,"LABEL",{class:!0});var r=n(y);x=i(r,"TIME\n\t\t\t\t"),T=o(r,"INPUT",{class:!0,type:!0}),r.forEach(u),E=d(l),k=o(l,"LABEL",{class:!0});var h=n(k);w=i(h,"LENGTH (minutes)\n\t\t\t\t"),N=o(h,"INPUT",{class:!0,type:!0}),h.forEach(u),A=d(l),S=o(l,"BUTTON",{class:!0});var p=n(S);L=i(p,"SUBMIT"),p.forEach(u),B=d(l),O=o(l,"BUTTON",{class:!0});var f=n(O);$=i(f,"ABORT"),f.forEach(u),l.forEach(u),this.h()},h(){h(v,"class","block bg-gray-900 pl-1"),h(v,"type","date"),h(a,"class","block p-1 mb-1"),h(T,"class","block bg-gray-900 pl-1"),h(T,"type","time"),h(y,"class","block p-1 mb-1"),h(N,"class","block bg-gray-900 pl-1"),h(N,"type","text"),h(k,"class","block p-1 mb-1"),h(S,"class","block w-full mb-2 p-2 border-double border-8 border-green-700 rounded-lg font-bold text-xl"),h(O,"class","block w-full mb-2 p-2 border-double border-8 border-red-700 rounded-lg font-bold text-xl"),h(e,"class","w-10/12 shadow-lg p-4 bg-gray-800")},m(l,c){p(l,e,c),f(e,a),f(a,s),f(a,v),b(v,t[5]),f(e,g),f(e,y),f(y,x),f(y,T),b(T,t[6]),f(e,E),f(e,k),f(k,w),f(k,N),b(N,t[7]),f(e,A),f(e,S),f(S,L),f(e,B),f(e,O),f(O,$),_||(U=[m(v,"input",t[23]),m(T,"input",t[24]),m(N,"input",t[25]),m(S,"click",t[15]),m(O,"click",t[14])],_=!0)},p(t,e){32&e[0]&&b(v,t[5]),64&e[0]&&b(T,t[6]),128&e[0]&&N.value!==t[7]&&b(N,t[7])},d(t){t&&u(e),_=!1,I(U)}}}function J(t){let e,a,v,g,y,x,T,w,B,O,$,_,D,H,P,R,C,J,V,z,G,Q,F,K,W,X,Y,Z,tt,et=Object.values(t[9]).length,at="exercise"===t[0]&&U(t),lt=et&&M(t),ct=t[8]&&j(t),rt=t[4]&&q(t);return{c(){e=r(),a=l("h1"),v=c("Activity Log"),g=r(),y=l("form"),x=l("label"),T=c("Exercise\n\t\t"),w=l("input"),B=r(),O=l("label"),$=c("Other\n\t\t"),_=l("input"),D=r(),H=l("label"),P=l("span"),R=c("Name"),C=r(),J=l("input"),V=r(),at&&at.c(),z=r(),G=l("button"),Q=c("Add Activity"),F=r(),lt&&lt.c(),K=r(),ct&&ct.c(),W=r(),rt&&rt.c(),X=s(),this.h()},l(t){N('[data-svelte="svelte-jzsa33"]',document.head).forEach(u),e=d(t),a=o(t,"H1",{class:!0});var l=n(a);v=i(l,"Activity Log"),l.forEach(u),g=d(t),y=o(t,"FORM",{class:!0});var c=n(y);x=o(c,"LABEL",{});var r=n(x);T=i(r,"Exercise\n\t\t"),w=o(r,"INPUT",{type:!0,value:!0}),r.forEach(u),B=d(c),O=o(c,"LABEL",{});var h=n(O);$=i(h,"Other\n\t\t"),_=o(h,"INPUT",{type:!0,value:!0}),h.forEach(u),D=d(c),H=o(c,"LABEL",{class:!0});var p=n(H);P=o(p,"SPAN",{class:!0});var f=n(P);R=i(f,"Name"),f.forEach(u),C=d(p),J=o(p,"INPUT",{class:!0,type:!0}),p.forEach(u),V=d(c),at&&at.l(c),z=d(c),G=o(c,"BUTTON",{class:!0});var b=n(G);Q=i(b,"Add Activity"),b.forEach(u),c.forEach(u),F=d(t),lt&&lt.l(t),K=d(t),ct&&ct.l(t),W=d(t),rt&&rt.l(t),X=s(),this.h()},h(){document.title="Activity Log",h(a,"class","text-yellow-500 bold text-3xl md:text-4xl text-center"),h(w,"type","radio"),w.__value="exercise",w.value=w.__value,t[19][0].push(w),h(_,"type","radio"),_.__value="other",_.value=_.__value,t[19][0].push(_),h(P,"class","text-xl"),h(J,"class","block mx-auto shadow-sm bg-gray-900 border-2 rounded border-yellow-300"),h(J,"type","text"),h(H,"class","space-y-1 block text-center"),h(G,"class","text-black border-2 bg-white border-solid rounded-lg shadow-sm border-yellow-500 px-3 py-1 block mx-auto text-xl"),h(y,"class","space-y-4")},m(l,c){p(l,e,c),p(l,a,c),f(a,v),p(l,g,c),p(l,y,c),f(y,x),f(x,T),f(x,w),w.checked=w.__value===t[0],f(y,B),f(y,O),f(O,$),f(O,_),_.checked=_.__value===t[0],f(y,D),f(y,H),f(H,P),f(P,R),f(H,C),f(H,J),b(J,t[1]),f(y,V),at&&at.m(y,null),f(y,z),f(y,G),f(G,Q),p(l,F,c),lt&&lt.m(l,c),p(l,K,c),ct&&ct.m(l,c),p(l,W,c),rt&&rt.m(l,c),p(l,X,c),Y=!0,Z||(tt=[m(w,"change",t[18]),m(_,"change",t[20]),m(J,"input",t[21]),m(y,"submit",A(t[17]))],Z=!0)},p(t,e){1&e[0]&&(w.checked=w.__value===t[0]),1&e[0]&&(_.checked=_.__value===t[0]),2&e[0]&&J.value!==t[1]&&b(J,t[1]),"exercise"===t[0]?at?at.p(t,e):(at=U(t),at.c(),at.m(y,z)):at&&(at.d(1),at=null),512&e[0]&&(et=Object.values(t[9]).length),et?lt?lt.p(t,e):(lt=M(t),lt.c(),lt.m(K.parentNode,K)):lt&&(lt.d(1),lt=null),t[8]?ct?ct.p(t,e):(ct=j(t),ct.c(),ct.m(W.parentNode,W)):ct&&(ct.d(1),ct=null),t[4]?rt?(rt.p(t,e),16&e[0]&&E(rt,1)):(rt=q(t),rt.c(),E(rt,1),rt.m(X.parentNode,X)):rt&&(L(),k(rt,1,1,(()=>{rt=null})),S())},i(t){Y||(E(rt),Y=!0)},o(t){k(rt),Y=!1},d(l){l&&u(e),l&&u(a),l&&u(g),l&&u(y),t[19][0].splice(t[19][0].indexOf(w),1),t[19][0].splice(t[19][0].indexOf(_),1),at&&at.d(),l&&u(F),lt&&lt.d(l),l&&u(K),ct&&ct.d(l),l&&u(W),rt&&rt.d(l),l&&u(X),Z=!1,I(tt)}}}function V(t){let e={};return t.forEach((t=>{const a=(l=t.startTime,new Date(parseInt(l)).toLocaleDateString("en-US"));var l;e[a]?e[a].push(t):e[a]=[t]})),Object.entries(e).reverse()}function z(t,e,a){let l,c,r,s,o,n,i,u,d,h="exercise",p=!1,f=[];"true"===localStorage.isExercising&&(r=!0),s=localStorage.startTime?JSON.parse(localStorage.startTime):0,f=localStorage.activityHistory?JSON.parse(localStorage.activityHistory):[];let b;return t.$$.update=()=>{512&t.$$.dirty[0]&&(b=V(f))},[h,l,c,r,n,i,u,d,p,f,function(){a(3,r=!0),localStorage.isExercising=!0,s=(new Date).getTime(),localStorage.startTime=JSON.stringify(s)},function(){a(3,r=!1),localStorage.isExercising=!1,o=(new Date).getTime()},function(){a(3,r=!1),localStorage.isExercising=!1},function(){a(4,n=!0)},function(){a(4,n=!1)},async function(){const t=await B(),e=parseInt(i),r=parseInt(i.slice(5,7))-1,s=parseInt(i.slice(8,11)),o=parseInt(u),p=parseInt(u.slice(3,5)),f=new Date(e,r,s,o,p).getTime(),b=f+6e4*parseInt(d);t.collection("activity").add({type:h,name:l,startTime:f,endTime:b,quantity:c,flag:"manualAdd"}),a(4,n=!1)},function(){a(8,p=!p)},async function(){const t=await B();"exercise"===h?t.collection("activity").add({type:h,name:l,startTime:s,endTime:o,quantity:c}):(s=(new Date).getTime(),t.collection("activity").add({type:h,name:l,startTime:s})),a(1,l=""),a(2,c="")},function(){h=this.__value,a(0,h)},[[]],function(){h=this.__value,a(0,h)},function(){l=this.value,a(1,l)},function(){c=this.value,a(2,c)},function(){i=this.value,a(5,i)},function(){u=this.value,a(6,u)},function(){d=this.value,a(7,d)}]}export default class extends t{constructor(t){super(),e(this,t,z,J,a,{},[-1,-1])}}
